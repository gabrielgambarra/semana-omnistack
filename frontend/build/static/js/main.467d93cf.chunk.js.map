{"version":3,"sources":["services/api.js","pages/Feed.js","pages/New.js","routes.js","components/Header.js","App.js","index.js","assets/more.svg","assets/like.svg","assets/comment.svg","assets/send.svg","assets/logo.svg","assets/camera.svg"],"names":["api","axios","create","baseURL","Feed","state","feed","registerToSocket","socket","io","on","newPost","_this","setState","concat","Object","toConsumableArray","likedPost","map","post","_id","handleLike","id","this","get","response","data","_this2","react_default","a","createElement","key","className","author","place","src","more","alt","image","type","onClick","like","comment","send","likes","description","hashtags","Component","New","handleSubmit","_callee","e","regenerator_default","wrap","_context","prev","next","preventDefault","FormData","append","props","history","push","stop","handleImageChange","target","files","handleChange","defineProperty","name","value","onSubmit","onChange","placeholder","Routes","react_router","path","exact","component","Header","react_router_dom","to","logo","camera","App","Header_Header","routes","ReactDOM","render","src_App","document","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.467d93cf.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst url = 'http://localhost:5000';\nconst url_heroku = 'https://back-semana7.herokuapp.com';\n\nconst api = axios.create({\n    baseURL: url_heroku\n});\n\nexport default api;","import React, { Component } from 'react';\nimport api from '../services/api';\nimport io from 'socket.io-client';\n\nimport './Feed.css';\nimport more from '../assets/more.svg';\nimport like from '../assets/like.svg';\nimport comment from '../assets/comment.svg';\nimport send from '../assets/send.svg';\n\nclass Feed extends Component {\n    state = {\n        feed: []\n    }\n\n    async componentDidMount() {\n        this.registerToSocket();\n\n        const response = await api.get('posts');\n\n        this.setState({ feed: response.data });\n    }\n\n    registerToSocket = () => {\n        const socket = io('https://back-semana7.herokuapp.com');\n\n        //post, like\n\n        socket.on('post', newPost => {\n            this.setState({ feed: [newPost, ... this.state.feed] });\n        })\n\n        socket.on('like', likedPost => {\n            this.setState({\n                feed: this.state.feed.map(post =>\n                    post._id === likedPost._id ? likedPost : post\n                )\n            });\n        })\n    }\n\n    handleLike = id => {\n        api.post(`posts/${id}/like`);\n    }\n\n    render() {\n        return (\n            <section id=\"post-list\">\n                {this.state.feed.map(post => (\n                    <article key={post._id}>\n                        <header>\n                            <div className=\"user-info\">\n                                <span>{post.author}</span>\n                                <span className=\"place\">{post.place}</span>\n                            </div>\n\n                            <img src={more} alt=\"More\" />\n                        </header>\n\n                        <img src={`https://back-semana7.herokuapp.com/files/${post.image}`} alt=\"\" />\n\n                        <footer>\n                            <div className=\"actions\">\n                                <button type=\"button\" onClick={() => this.handleLike(post._id)}>\n                                    <img src={like} alt=\"Like\" />\n                                </button>\n                                <img src={comment} alt=\"Comment\" />\n                                <img src={send} alt=\"Send\" />\n                            </div>\n\n                            <strong>{post.likes} curtidas</strong>\n\n                            <p>\n                                {post.description}\n                            <span>{post.hashtags}</span>\n                            </p>\n                        </footer>\n                    </article>\n                ))}\n            </section>\n        );\n    }\n}\n\nexport default Feed;","import React, { Component } from 'react';\nimport api from '../services/api';\n\nimport './New.css';\n\nclass New extends Component {\n    state = {\n        image: null,\n        author: '',\n        place: '',\n        description: '',\n        hashtags: ''\n    };\n\n    handleSubmit = async e => {\n        e.preventDefault();\n\n        const data = new FormData();\n\n        data.append('image', this.state.image);\n        data.append('author', this.state.author);\n        data.append('place', this.state.place);\n        data.append('description', this.state.description);\n        data.append('hashtags', this.state.hashtags);\n\n        await api.post('posts', data);\n\n        this.props.history.push('/');\n    }\n\n    handleImageChange = e => {\n        this.setState({ image: e.target.files[0] })\n    }\n\n    handleChange = e => {\n        this.setState({ [e.target.name]: e.target.value });\n    }\n\n    render() {\n        return (\n            <form id=\"new-post\" onSubmit={this.handleSubmit}>\n                <input type=\"file\" onChange={this.handleImageChange} />\n\n                <input type=\"text\" name=\"author\" placeholder=\"Autor do post\" onChange={this.handleChange} value={this.author} />\n                <input type=\"text\" name=\"place\" placeholder=\"Local do post\" onChange={this.handleChange} value={this.place} />\n                <input type=\"text\" name=\"description\" placeholder=\"Descrição do post\" onChange={this.handleChange} value={this.description} />\n                <input type=\"text\" name=\"hashtags\" placeholder=\"Hashtags do post\" onChange={this.handleChange} value={this.hashtags} />\n\n                <button type=\"submit\">Enviar</button>\n            </form>\n        );\n    }\n}\n\nexport default New;","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport Feed from './pages/Feed';\nimport New from './pages/New';\n\nfunction Routes() {\n    return (\n        <Switch>\n            <Route path=\"/\" exact component={Feed} />\n            <Route path=\"/new\" component={New} />\n        </Switch>\n    );\n}\n\nexport default Routes;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './Header.css';\n\nimport logo from '../assets/logo.svg';\nimport camera from '../assets/camera.svg';\n\nexport default function Header() {\n  return (\n    <header id=\"main-header\">\n        <div className=\"header-content\">\n            <Link to=\"/\">\n                <img src={logo} alt=\"InstaRocket\" />\n            </Link>\n            <Link to=\"/new\">\n                <img src={camera} alt=\"Enviar publicação\" />\n            </Link>\n        </div>\n    </header>\n  );\n}\n","import React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport Routes from './routes';\nimport Header from './components/Header';\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Header />\n      <Routes />\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './global.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/more.22d960a9.svg\";","module.exports = __webpack_public_path__ + \"static/media/like.00e13584.svg\";","module.exports = __webpack_public_path__ + \"static/media/comment.e2a49935.svg\";","module.exports = __webpack_public_path__ + \"static/media/send.55e74cfd.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.83fd0bcc.svg\";","module.exports = __webpack_public_path__ + \"static/media/camera.787c6af9.svg\";"],"sourceRoot":""}